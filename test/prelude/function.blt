{import|.} std;

global <- 42;

def foo(arg) {do|
    x <- ($ arg);
    global <- 43;
    $ x
};

(foo x) {!expect|x};
(foo y) {!expect|y};
($ global) {!expect|43};

{do| $ x } {!expect_error|.};
    # Check that the local variable didn't get set outside the funciton
    # scope.

.